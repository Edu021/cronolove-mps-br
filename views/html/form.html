<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crie sua Página de Relacionamento</title>
    <link rel="shortcut icon" type="image/jpg" href="images/corazon.png"/>
    <link rel="stylesheet" href="/form.css">
    <link rel="stylesheet" href="/footer.css">
    <meta name="theme-color" content="#990000">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playball&display=swap" rel="stylesheet">

    <style>
        .preview-box {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .slideshow {
            /* position: relative; */
            width: 15rem;
            height: 20rem;
            position: relative;
            background-repeat: no-repeat;
            background-size: cover;
            border-radius: 20px;
            box-shadow: 0 4px 10px var(--shadow-color);
        }
        .slideshow img {
            display: none;
            width: 100%;
            height: auto;
        }
        .slideshow img.active {
            display: block;
        }
    </style>
</head>
<body>
    
    <nav class="navbar">
        <button class="logo">
            <span class="box">
                CronoLove
            </span>
            
            <div class="star-1">
                <svg height="25" width="25" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
            <path d="M427.313,88.686c-47.803-47.803-125.213-47.803-173.016,0l-17.087,17.087l-17.087-17.087c-47.803-47.803-125.213-47.803-173.016,0c-47.803,47.803-47.803,125.213,0,173.016l190.103,190.103c4.88,4.88,11.316,7.322,17.752,7.322c6.435,0,13.871-2.442,18.751-7.322l190.103-190.103C475.116,213.899,475.116,136.489,427.313,88.686z" fill="#fd1853"></path>
            </svg>


            </div>
            <div class="star-2">
                <svg height="15" width="18" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
            <path d="M427.313,88.686c-47.803-47.803-125.213-47.803-173.016,0l-17.087,17.087l-17.087-17.087c-47.803-47.803-125.213-47.803-173.016,0c-47.803,47.803-47.803,125.213,0,173.016l190.103,190.103c4.88,4.88,11.316,7.322,17.752,7.322c6.435,0,13.871-2.442,18.751-7.322l190.103-190.103C475.116,213.899,475.116,136.489,427.313,88.686z" fill="#fd1853"></path>
            </svg>

            </div>
            <div class="star-3">
                <svg height="9" width="9" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
            <path d="M427.313,88.686c-47.803-47.803-125.213-47.803-173.016,0l-17.087,17.087l-17.087-17.087c-47.803-47.803-125.213-47.803-173.016,0c-47.803,47.803-47.803,125.213,0,173.016l190.103,190.103c4.88,4.88,11.316,7.322,17.752,7.322c6.435,0,13.871-2.442,18.751-7.322l190.103-190.103C475.116,213.899,475.116,136.489,427.313,88.686z" fill="#fd1853"></path>
            </svg>

            </div>
            <div class="star-4">
                <svg height="10" width="10" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
            <path d="M427.313,88.686c-47.803-47.803-125.213-47.803-173.016,0l-17.087,17.087l-17.087-17.087
                c-47.803-47.803-125.213-47.803-173.016,0c-47.803,47.803-47.803,125.213,0,173.016l190.103,190.103
                c4.88,4.88,11.316,7.322,17.752,7.322c6.435,0,13.871-2.442,18.751-7.322l190.103-190.103
                C475.116,213.899,475.116,136.489,427.313,88.686z" fill="#fd1853"></path>
            </svg>

            </div>
            <div class="star-5">
                <svg height="20" width="20" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
            <path d="M427.313,88.686c-47.803-47.803-125.213-47.803-173.016,0l-17.087,17.087l-17.087-17.087
                c-47.803-47.803-125.213-47.803-173.016,0c-47.803,47.803-47.803,125.213,0,173.016l190.103,190.103
                c4.88,4.88,11.316,7.322,17.752,7.322c6.435,0,13.871-2.442,18.751-7.322l190.103-190.103
                C475.116,213.899,475.116,136.489,427.313,88.686z" fill="#fd1853"></path>
            </svg>

            </div>
            <div class="star-6">
                <svg height="7" width="7" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
            <path d="M427.313,88.686c-47.803-47.803-125.213-47.803-173.016,0l-17.087,17.087l-17.087-17.087
                c-47.803-47.803-125.213-47.803-173.016,0c-47.803,47.803-47.803,125.213,0,173.016l190.103,190.103
                c4.88,4.88,11.316,7.322,17.752,7.322c6.435,0,13.871-2.442,18.751-7.322l190.103-190.103
                C475.116,213.899,475.116,136.489,427.313,88.686z" fill="#fd1853"></path>
            </svg>

            </div>
            
        </button>
    </nav>

    <section class="form" id="form">
        <div class="container">

            <div class="infos">
                <div class="title">
                    <h1>Surpreenda seu amor</h1>
                    <p>
                        Crie um contador dinâmico de tempo de relacionamento. Preencha o formulário e receba o seu site personalizado + QR Code para compartilhar com o seu amor 🙂
                    </p>
                </div>
    
                <form id="form-relacionamento" action="/checkout" method="POST" enctype="multipart/form-data">
                    <div class="input">
                        <label for="parceiro">Nome do casal:</label>
                        <input type="text" id="parceiro" name="coupleName" placeholder="Exemplo: Eduardo & Fernanda" required>
                    </div>
            
                    <div class="input">
                        <label for="inicioRelacao">Data de Início do Relacionamento:</label>
                        <input type="datetime-local" id="inicioRelacao" name="started_at" required>
                    </div>
            
                    <div class="input">
                        <label for="modalidade">Escolha a Modalidade:</label>
                        <select id="modalidade" name="plan">
                            <option value="basic">R$19,90 - 1 ano e até 4 imagens</option>
                            <option value="premium">R$29,90 - Para sempre, até 7 imagens e com música</option>
                        </select>
                    </div>

                    <div class="input">
                        <label for="mensagem">Escreva uma mensagem:</label>
                        <textarea id="mensagem" name="message" placeholder="Escreva algo para impressionar, capriche bem!"></textarea>
                    </div>

                    <div class="input" id="youtube-link" style="display: none;">
                        <label for="youtubeLink">Link do YouTube:</label>
                        <input type="url" id="youtubeLink" name="music" placeholder="Exemplo: https://www.youtube.com/watch?v=w3qPMe_cCJk">
                    </div>
                    
                    <div class="input">
                        <label for="email">Em qual e-mail você quer receber?</label>
                        <input type="email" id="email" name="started_at" placeholder="email@gmail.com" required>
                    </div>
                    
                    <div class="image-upload-container input">
                        <label for="images" class="custom-file-upload">
                            <span>Adicionar imagens</span>
                            <input id="images" type="file" name="image" accept="image/*" multiple>
                        </label>
                        <div id="image-preview-container"></div>
                    </div>
                    
                    <button class="submit" type="submit">Criar Página</button>
                </form>    
            </div>
            
            <div class="preview">
                
                <h2>Veja como vai ficar 👇</h2>
                <div class="preview-box">
                    
                    <button id="preview-image">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M4 16H20M12 9H12.01M15.8739 16C15.4299 14.2748 13.8638 13 12 13C10.1361 13 8.57002 14.2748 8.12598 16M13 9C13 9.55228 12.5523 10 12 10C11.4477 10 11 9.55228 11 9C11 8.44772 11.4477 8 12 8C12.5523 8 13 8.44772 13 9ZM7.2 4H16.8C17.9201 4 18.4802 4 18.908 4.21799C19.2843 4.40973 19.5903 4.71569 19.782 5.09202C20 5.51984 20 6.0799 20 7.2V16.8C20 17.9201 20 18.4802 19.782 18.908C19.5903 19.2843 19.2843 19.5903 18.908 19.782C18.4802 20 17.9201 20 16.8 20H7.2C6.0799 20 5.51984 20 5.09202 19.782C4.71569 19.5903 4.40973 19.2843 4.21799 18.908C4 18.4802 4 17.9201 4 16.8V7.2C4 6.0799 4 5.51984 4.21799 5.09202C4.40973 4.71569 4.71569 4.40973 5.09202 4.21799C5.51984 4 6.0799 4 7.2 4Z" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>  
                    </button>
                    <span id="preview-title">Digite o nome do casal</span>
                    <p id="preview-message">Digite sua mensagem</p>
                    <div class="counter">
                        <p>Juntos</p>
                        <div id="time">
                        </div>
                    </div>
                    <div class="iframe">
                        <iframe id="youtube-frame" style="display: none;" frameborder="0" allow="autoplay; encrypted-media"></iframe>
                    </div>
                </div>
            </div>

        </div>
    </section>

    <section class="how-works">
        <div class="container">
            <h3 class="">
                Como funciona
            </h3>

            <div class="cards-container">
                <div class="card">
                    <span>
                        1. Preencha os dados 📝
        
                    </span>            
                </div>
        
                <div class="card">
                    <span>
                        2. Faça o pagamento 💰
        
                    </span>            
                </div>
        
                <div class="card">
                    <span>
                        3. Receba o seu site + QR Code no e-mail ✉️
        
                    </span>            
                </div>
        
                <div class="card">
                    <span>
                        4. Faça uma surpresa para o seu amor ❤️
        
                    </span>            
                </div>
            </div>

            <div class="cta">
                <a href="#form">Quero surpreender meu amor</a>
            </div>
            
        </div>
        
    </section>
    <section class="faq">

        <div class="container">
            <h3>Perguntas Frequentes (FAQ)</h3>
        
            <div class="asks-container">
    
                <div class="ask">
                    <h4>O que é a CronoLove?</h4>
                    <p>CronoLove é uma plataforma que permite criar páginas personalizadas de relacionamento para casais. Você pode adicionar fotos, uma mensagem especial e um contador que mostra há quanto tempo vocês estão juntos.</p>
                </div>
    
                <div class="ask">
                    <h4>Como posso criar uma página personalizada na CronoLove?</h4>
                    <p>Para criar uma página personalizada, preencha o formulário com os nomes do casal, a data de início do relacionamento, uma mensagem de declaração e até 3 ou 7 fotos. Depois, clique no botão "Criar Página" e finalize o pagamento.</p>
                </div>
    
                <div class="ask">
                    <h4>O que está incluído na minha página personalizada?</h4>
                    <p>Sua página personalizada incluirá um contador ao vivo mostrando há quanto tempo vocês estão juntos, uma apresentação de slides com suas fotos e uma mensagem especial de declaração. Além disso, haverá emojis de coração caindo a cada troca de foto.</p>
                </div>
    
                <div class="ask">
                    <h4>Como recebo minha página personalizada após o pagamento?</h4>
                    <p>Após a conclusão do pagamento, você receberá um QR code para compartilhar com seu parceiro(a) e um link via e-mail para acessar a página.</p>
                </div>
    
                <div class="ask">
                    <h4>A página personalizada tem validade?</h4>
                    <p>No preço básico sim, 1 ano. No plano avançado, a página personalizada estará disponível para você pelo resto da vida.</p>
                </div>
        
                <div class="ask">
                    <h4>Qual é o custo para criar uma página no CronoLove?</h4>
                    <p>No momento, o custo para criar uma página na CronoLove é de apenas R$19,90 no preço básico e R$39,90 no preço avançado.</p>
                </div>
            
                <div class="ask">
                    <h4>Quanto tempo demora para receber o QR Code no e-mail?</h4>
                    <p>Pagamentos com cartão de crédito ficam prontos na hora. Pagamentos por boleto podem demorar de 1 a 3 dias úteis para compensar.</p>
                </div>
    
                <div class="ask">
                    <h4>Quais são as formas de pagamento?</h4>
                    <p>No momento, aceitamos pagamentos por boleto e cartão de crédito.</p>
                </div>
    
                <div class="ask">
                    <h4>Como posso entrar em contato com o suporte ao cliente?</h4>
                    <p>Você pode entrar em contato com nosso suporte ao cliente através do e-mail suporte.cronolove@gmail.com.</p>
                </div>
            </div>
    
            <div class="cta">
                <a href="#form">Quero surpreender meu amor</a>
            </div>
    
        </div>

    </section>
    
      <footer id="footer">
        <div class="col col1">
          <h3>CronoLove</h3>
          <p>Feito com <span style="color: #BA6573;">❤</span> por Eduardo Dev</p>
          <p style="color: #818181; font-size: smaller">2024 © Todos os direitos reservados</p>
        </div>
        <div class="backdrop"></div>
      </footer>

    <script>

        let MAX_IMAGES = 4;

        let selectedFiles = []; // Lista para rastrear os arquivos selecionados

document.getElementById('images').addEventListener('change', function (event) {
    const files = Array.from(event.target.files);
    const previewContainer = document.getElementById('image-preview-container');

    // Verifica o total de imagens após a seleção
    const totalImages = selectedFiles.length + files.length;
    if (totalImages > MAX_IMAGES) {
        alert(`Você só pode adicionar até ${MAX_IMAGES} imagens no total, mude seu plano para mais.`);
        return;
    }

    // Adiciona os novos arquivos na lista de arquivos selecionados
    files.forEach((file) => {
        selectedFiles.push(file);

        // Cria o preview da imagem
        const fileReader = new FileReader();
        fileReader.onload = function (e) {
            const imagePreview = document.createElement('div');
            imagePreview.classList.add('image-preview');

            const img = document.createElement('img');
            img.src = e.target.result;

            const removeBtn = document.createElement('button');
            removeBtn.textContent = '×';
            removeBtn.classList.add('remove-btn');
            removeBtn.addEventListener('click', () => {
                removeImage(imagePreview, file);
            });

            imagePreview.appendChild(img);
            imagePreview.appendChild(removeBtn);
            previewContainer.appendChild(imagePreview);
        };
        fileReader.readAsDataURL(file);
    });

    // Atualiza o input com os arquivos selecionados
    updateInputFiles();
});

function removeImage(imageElement, file) {
    const previewContainer = document.getElementById('image-preview-container');
    previewContainer.removeChild(imageElement); // Remove o elemento de preview

    // Remove o arquivo correspondente da lista
    selectedFiles = selectedFiles.filter((f) => f !== file);

    // Atualiza o input com os arquivos restantes
    updateInputFiles();
}

function updateInputFiles() {
    const dataTransfer = new DataTransfer();
    selectedFiles.forEach((file) => dataTransfer.items.add(file));
    document.getElementById('images').files = dataTransfer.files;
}

        let countdownInterval;

        document.getElementById('inicioRelacao').addEventListener('input', function() {
            const startDate = new Date(this.value);

            if (isNaN(startDate)) {
                document.getElementById('preview-time').innerText = "Data inválida";
                return;
            }
            clearInterval(countdownInterval);

            countdownInterval = setInterval(() => {
                document.getElementById('time').innerHTML = calcularDiferenca(startDate);
            }, 1000); // Atualiza a cada 1 segundo
        });

        document.getElementById('parceiro').addEventListener('input', function() {
            document.getElementById('preview-title').innerText = this.value;
        });

        document.getElementById('mensagem').addEventListener('input', function() {
            document.getElementById('preview-message').innerText = this.value;
        });
    
        document.getElementById('modalidade').addEventListener('change', function() {
            let youtubeLink = document.getElementById('youtube-link');
            let previewContainer = document.getElementById('image-preview-container'); // Container de previews

            if (this.value === 'premium') {
                youtubeLink.style.display = 'flex';
                MAX_IMAGES = 7;
            } else {
                youtubeLink.style.display = 'none';
                MAX_IMAGES = 4;

                // Verifica se o número de previews excede o limite
                while (previewContainer.childElementCount > MAX_IMAGES) {
                    // Remove o último preview excedente
                    previewContainer.removeChild(previewContainer.lastChild);
                }
            }
        });
    
        // Troca de imagem no preview
        const previewImage = document.getElementById('preview-image');
        const imageInput = document.getElementById('images');
    
        previewImage.addEventListener('click', function() {
            imageInput.click();
        });
    
        function createSlideshow(images) {
            const slideshowDiv = document.createElement('div');
            slideshowDiv.classList.add('slideshow');
    
            // Define o estilo para o slideshow

            slideshowDiv.style.position = 'relative';
            slideshowDiv.style.backgroundSize = 'cover';
            slideshowDiv.style.backgroundPosition = 'center';
            slideshowDiv.style.transition = 'background-image 1s ease-in-out';
    
            let currentSlide = 0;
    
            // Define o primeiro background-image
            slideshowDiv.style.backgroundImage = `url(${URL.createObjectURL(images[currentSlide])})`;
    
            previewImage.replaceWith(slideshowDiv);
    
            // Troca de imagem automática
            setInterval(() => {
                currentSlide = (currentSlide + 1) % images.length;
                slideshowDiv.style.backgroundImage = `url(${URL.createObjectURL(images[currentSlide])})`;
            }, 3000); // Troca de imagem a cada 3 segundos
        }
    
        // Exibir a imagem ou slideshow quando o usuário fizer upload
        imageInput.addEventListener('change', function() {
            const files = Array.from(this.files);
    
            if (files.length > 0) {
                createSlideshow(files);
            }
        });

        function calcularDiferenca(dataInicial) {
            let agora = new Date();
            let diferenca = agora - dataInicial;
            
            let segundosTotais = Math.floor(diferenca / 1000);
            let minutosTotais = Math.floor(segundosTotais / 60);
            let horasTotais = Math.floor(minutosTotais / 60);
            let diasTotais = Math.floor(horasTotais / 24);

            let anos = Math.floor(diasTotais / 365);
            diasTotais %= 365;

            let meses = Math.floor(diasTotais / 30);
            let dias = diasTotais % 30;

            let horas = horasTotais % 24;
            let minutos = minutosTotais % 60;
            let segundos = segundosTotais % 60;
            let resultado = '';

            if (anos > 0) resultado += `<div><span>Ano</span> <span> ${anos} </span></div>`;
            if (meses > 0) resultado += `<div><span>Mês</span> <span> ${meses} </span></div>`;
            if (dias > 0) resultado += `<div><span>Dia</span> <span> ${dias} </span></div>`;

            // resultado += `${horas} hora${horas > 1 ? 's' : ''}, ${minutos} minuto${minutos > 1 ? 's' : ''} e ${segundos} segundo${segundos > 1 ? 's' : ''}`;
            resultado += `
                <div><span>Hora</span> <span> ${horas} </span></div> 
                <div><span>Min</span> <span> ${minutos} </span></div>
                <div><span>Seg</span> <span> ${segundos} </span></div>`;

            return resultado;
        }

    </script>
    </body>
</html>
